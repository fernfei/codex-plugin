plugins {
    id 'java'
    id 'org.jetbrains.intellij.platform' version '2.10.5'
}

group = 'com.codex'
version = '0.1.0'

java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

repositories {
    mavenCentral()
    intellijPlatform {
        defaultRepositories()
    }
}

dependencies {
    intellijPlatform {
        intellijIdeaCommunity('2024.3.1')
    }
}

tasks.withType(JavaCompile).configureEach {
    options.encoding = 'UTF-8'
}

intellijPlatform {
    publishing {
        token = providers.environmentVariable('PUBLISH_TOKEN')
    }
}

patchPluginXml {
    sinceBuild = '233'
    untilBuild = '263.*'
}
